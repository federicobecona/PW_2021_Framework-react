(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(7),o=n.n(r),a=(n(13),n.p,n(8)),l=n(2),i=n(6),d=n(0),j=s.a.createContext();function b(){return Object(c.useContext)(j)}function x(e){var t=e.children,n=Object(c.useState)([]),s=Object(i.a)(n,2),r=s[0],o=s[1],b=Object(c.useState)(),x=Object(i.a)(b,2),u=x[0],m=x[1],h=localStorage.getItem("cart");Object(c.useEffect)((function(){h=JSON.parse(h),console.log(h),h&&(console.log(h),o(h))}),[]),Object(c.useEffect)((function(){var e=0,t=JSON.stringify(r);localStorage.setItem("cart",t),r.map((function(t,n){e+=t.cost*t.qty})),console.log(e),m(e)}),[r]);var O={cartItems:r,onAdd:function(e){console.log(e);var t=r.find((function(t){return t.name===e.name}));o(t?r.map((function(n){return n.name===e.name?Object(l.a)(Object(l.a)({},t),{},{qty:t.qty+1}):n})):[].concat(Object(a.a)(r),[Object(l.a)(Object(l.a)({},e),{},{qty:1})])),console.log(r)},onRemove:function(e){var t=r.find((function(t){return t.name===e.name}));t&&(1===t.qty?o(r.filter((function(t){return t.name!==e.name}))):o(r.map((function(n){return n.name===e.name?Object(l.a)(Object(l.a)({},t),{},{qty:t.qty-1}):n}))))},cartTotal:u,setCartItems:o};return Object(d.jsx)(j.Provider,{value:O,children:t})}function u(e){var t=e.items,n=b().onRemove;return Object(d.jsx)("div",{children:t.map((function(e,t){return Object(d.jsx)("div",{class:"bg-green-200 shadow-md rounded px-8 pt-6 pb-8 mb-4",children:Object(d.jsxs)("div",{class:"grid grid-cols-3 gap-4 mt-4",children:[Object(d.jsxs)("p",{class:"text-center w-2/5 leading-loose rounded align-middle pt-0 h-8 bg-gray-100",children:[e.qty," "]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{class:"text-center leading-loose",children:[e.name," "]}),Object(d.jsxs)("p",{class:"text-center leading-loose text-gray-700",children:["Total producto(s): $",e.cost*e.qty," "]})]}),Object(d.jsx)("div",{class:"flex flex-col items-center",children:Object(d.jsx)("button",{class:" shadow bg-red-600 hover:bg-red-800 text-white focus:shadow-outline focus:outline-none font-bold py-2 px-4 rounded",onClick:function(){return n(e)},children:" Eliminar "})})]})})}))})}function m(){var e=b(),t=e.cartItems,n=e.cartTotal;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{class:"font-bold text-2xl mt-4",children:"Carrito de compras"}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{class:"font-bold grid grid-cols-3 gap-4 mt-4 bg-gray-300",children:[Object(d.jsx)("p",{class:"text-center leading-loose rounded align-middle",children:"Cantidad"}),Object(d.jsx)("p",{class:"text-center leading-loose",children:"Nombre "}),Object(d.jsx)("br",{})]}),Object(d.jsx)(u,{items:t}),Object(d.jsxs)("p",{class:"text-right font-bold",children:["Total: $",n]})]})}function h(e){var t=e.productos,n=b().onAdd;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{class:"font-400 text-2xl md:text-3xl text-center font-bold",children:"Tienda!"}),Object(d.jsx)("div",{class:"grid grid-cols-2 gap-4 mt-4",children:t.map((function(e,t){return Object(d.jsxs)("form",{class:"bg-blue-200 shadow-md rounded px-8 pt-6 pb-8 mb-4",children:[Object(d.jsxs)("p",{class:"text-center leading-loose",children:[e.name," "]}),Object(d.jsxs)("p",{class:"text-center leading-loose text-gray-700",children:["$ ",e.cost," "]}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{class:"flex flex-col items-center",children:Object(d.jsx)("button",{class:"shadow bg-green-600 hover:bg-green-800 text-white focus:shadow-outline focus:outline-none font-bold py-2 px-4 rounded",onClick:function(){return n(e)},children:" Agregar "})})]})}))})]})}var O=[{name:"Leche",cost:"45"},{name:"Huevos",cost:"80"},{name:"Bananas",cost:"89"},{name:"Sart\xe9n",cost:"345"},{name:"Vino",cost:"246"}];var g=function(){return Object(d.jsx)("body",{children:Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)("div",{class:"min-h-screen bg-gray-800 py-6 flex flex-col justify-center sm:py-12",children:[Object(d.jsx)("div",{class:"relative py-3 sm:max-w-xl sm:mx-auto",children:Object(d.jsx)("form",{class:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:Object(d.jsxs)("div",{class:"container",id:"formulario",children:[Object(d.jsx)(h,{productos:O}),Object(d.jsx)(m,{})]})})}),Object(d.jsx)("p",{class:"text-center text-gray-300 text-xs",children:"React Framework"})]})})})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),r(e),o(e)}))};o.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(x,{children:Object(d.jsx)(g,{})})}),document.getElementById("root")),f()}},[[15,1,2]]]);
//# sourceMappingURL=main.8593c4d9.chunk.js.map